<ion-card>
    <ion-card-header>
        Send Update
      </ion-card-header>
  <ion-card-content>
    <div class="ion-padding"></div>
    <div *ngIf="updateStages$ | async as updateStages">
      <ion-item>
        <ion-label position="floating">{{ 'Status' | translate }}</ion-label>

        <ion-select [(ngModel)]="updateStatus" (ionChange)="statusChanged()" interface="action-sheet">
          <ion-select-option *ngFor="let notification of updateStages.referenceValueItems" [value]="notification.value">{{ notification.display }} </ion-select-option>
        </ion-select>
      </ion-item>
      <div class="ion-padding"></div>
      <ion-item *ngIf="updateCodes">
        <ion-label position="floating">{{ 'Update Code' | translate }}</ion-label>

        <ion-select [(ngModel)]="updateStatus2" interface="action-sheet">
          <ion-select-option *ngFor="let notification of updateCodes" [value]="notification.value">{{ notification.display }} </ion-select-option>
        </ion-select>
      </ion-item>

      <div class="ion-padding"></div>

      <ion-item *ngIf="updateStatus2">
        <ion-textarea [(ngModel)]="updateComment" placeholder="{{ 'Comments ...' | translate }}"></ion-textarea>
      </ion-item>

      <div class="ion-padding"></div>
      <div class="ion-padding"></div>

      <ion-button size="large" *ngIf="updateStatus2" (click)="sendUpdate()" routerDirection="forward" type="submit" expand="block" color="primary">
        <ion-icon name="send"></ion-icon>
        {{ 'Send Update' | translate }}
      </ion-button>
    </div>
  </ion-card-content>
</ion-card>
